extends layout 

block content
  nav.navbar.navbar-expand-md.navbar-dark.bg-dark.fixed-top
    button.navbar-toggler(type="button" data-toggle="collapse" data-target="#main-navbar" style='margin-left: 10px;')
      span.navbar-toggler-icon
    #main-navbar.collapse.navbar-collapse
      ul.navbar-nav.mr-auto(style='margin-left: 10px;')
        li.nav-item
          a.nav-link(href='/waitlist/gravlaxisnotalaxative') Home/FAQ
        li.nav-item.active
          a.nav-link(href='/waitlist/sessions') Active
        li.nav-item
          a.nav-link(href='/waitlist/sessions/waiting') Waiting
        li.nav-item
          a.nav-link(href='/waitlist/sessions/notified') Notified
        li.nav-item
          a.nav-link(href='/waitlist/sessions/archived') Archived
        li.nav-item
          a.nav-link(href='/waitlist/session/create') Create New
  main.container(role='main' style='padding: 60px;')
    h1=title
    ul
        li #[strong Waiting: ] #{sessions_waitCount}
        li #[strong Notified: ] #{sessions_notifiedCount}
    p <em>Ordered by 'when' a Guest started waiting (top = started waiting the 'longest' time ago).</em>
    p <em>Thus, ideally the entries at the top should have the status 'Notified'.</em>
    ol
        each session in sessions_all 
            li
                p #[strong #{session.status}]; #[a(href=session.urlDetails)  #{session.name}]; party of #[strong #{session.party_num}]; #{session.wait_end ? `waited ${session.wait_completed} min until notified` : `waited ${session.wait_duration} min so far`}
                  - if (session.has_cell == 'No')
                    |; #[strong IS <em>NOT</em> CARRYING A SMART PHONE]
        else 
            li There are no Sessions.